# 安卓基础 面试必问
#learning/android 

 [https://blog.csdn.net/nzfxx/article/details/51757588](https://blog.csdn.net/nzfxx/article/details/51757588)  

## ANR
* 1.全称:android no responding, 安卓无响应.
* 2.不同组件的无响应时间不同:
```
Activity,Service:10秒
BrodCastReceiver:5秒
```

! Facric等crash软件也支持ANR的监测

* 3.避免方案:
```
1.耗时操作要放在"子线程":访问网络,网络Soket通信,查询数据库语句,计算大量复杂逻辑计算时.
2.用handler.sendMessage,RunOnUiThread,或者AsyncTask等方式更新UI.
3.(PS:耗时操作让用户等待,要给出界面上的"进度显示")
```

！*查询数据库语句,计算大量复杂逻辑计算时.* 也需要子线程啊。

## 安卓的优点和不足
```
   优点:
        价格便宜,普及率高,开源,可定制等等
        1.开放性,开源性,免费,可定制
        2.丰富的硬件支持
        3."不受任何限制"的"开发商",各手机厂商都有自己各自的随意定制:小米,魅族,三星,华为.
        4.无缝结合google应用,谷歌的亲儿子
    不足:
        碎片化严重,各种产品层出不穷,屏幕的适配,版本更新快等等.
        1.安全,隐私问题
        2.同质化问题严重:同质:不同品牌在性能,内容,外观上相互模仿,逐渐趋同的情况
        3.过分依赖开发商,缺乏标准配置.
```

! 不足： 不止屏幕适配，还需要版本的适配、硬件厂商的适配
   优点： 开放、开源、免费这些优点非常的突出
   		应用场景广泛，手机平板电视，IoT，特殊需求如ATM收银机等。

## 安卓的存贮
```
* 1.文件file
* 2.xml
* 3.sharePreference:轻量级
* 4.数据库:逻辑性判断
* 5.网络
* 6.contentProvider
```

! 比如一些伪数据 或者 固定数据可以存成文件file 

## 安卓进程级别
```
五大:前,可视,后台,服务,空

1.Foreground process

用户当前正在做的事情需要这个进程。如果满足下面的条件之一，一个进程就被认为是前台进程：

这个进程拥有一个正在与用户交互的Activity(这个Activity的onResume()方法被调用)。

这个进程拥有一个绑定到正在与用户交互的activity上的Service。

这个进程拥有一个前台运行的Service（service调用了方法startForeground()）.

这个进程拥有一个正在执行其任何一个生命周期回调方法（onCreate(),onStart(),或onDestroy()）的Service。

这个进程拥有正在执行其onReceive()方法的BroadcastReceiver。

通常，在任何时间点，只有很少的前台进程存在。它们只有在达到无法调合的矛盾时才会被杀－－如内存太小而不能继续运行时。通常，到了这时，设备就达到了一个内存分页调度状态，所以需要杀一些前台进程来保证用户界面的反应

2.Visible process

一个进程不拥有运行于前台的组件，但是依然能影响用户所见。满足下列条件时，进程即为可见：

这个进程拥有一个不在前台但仍可见的Activity(它的onPause()方法被调用)。当一个前台activity启动一个对话框时，就出了这种情况。

3.service process

一个可见进程被认为是极其重要的。并且，除非只有杀掉它才可以保证所有前台进程的运行，否则是不能动它的。

这个进程拥有一个绑定到可见activity的Service。

一个进程不在上述两种之内，但它运行着一个被startService()所启动的service。

尽管一个服务进程不直接影响用户所见，但是它们通常做一些用户关心的事情（比如播放音乐或下载数据），所以系统不到前台进程和可见进程活不下去时不会杀它。

4.Background process

即背景进程

进程中的Activity不可见和进程中没有任何启动的Service，这些进程都可以看作是后台进程。在系统中，拥有大量的后台进程，并且Android按照后看见先杀掉的原则来杀掉后台进程以获取资源给前台进程 
一个进程拥有一个当前不可见的activity(activity的onStop()方法被调用)。

这样的进程们不会直接影响到用户体验，所以系统可以在任意时刻杀了它们从而为前台、可见、以及服务进程们提供存储空间。通常有很多后台进程在运行。它们被保存在一个LRU(最近最少使用)列表中来确保拥有最近刚被看到的activity的进程最后被杀。如果一个activity正确的实现了它的生命周期方法，并保存了它的当前状态，那么杀死它的进程将不会对用户的可视化体验造成影响。因为当用户返回到这个activity时，这个activity会恢复它所有的可见状态。

5.empty process

一个进程不拥有任何active组件。

保留这类进程的唯一理由是高速缓存，这样可以提高下一次一个组件要运行它时的启动速度。系统经常为了平衡在进程高速缓存和底层的内核高速缓存之间的整体系统资源而杀死它们。
```
