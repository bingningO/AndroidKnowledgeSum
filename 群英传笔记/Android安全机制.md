## 安全机制简介

### 第一道： 代码安全之代码混淆proguard
* 防止反编译
* proguard： 
  * 混淆关键代码、替换命名造成阅读困难
  * 还可以压缩代码、优化编译后的java字节
  
### 第二道：应用接入权限控制
* Manifest里的权限设置
* 安卓系统的给予权限过程
  1. 判断permission名称，为空就返回DENIED
  2. 判断Uid，若不符合就返回DENIED，为0注意是root权限，不做权限控制
  3. 通过packageManagerService去权限表check，符合就给予权限
  
### 第三道：数字证书签名
* 可以在gradle里面申明
* 用于保护作者与APP的信任关系，只有相同的数字证书的APP才会在升级时被认为是同一个APP，且安卓系统不会安装没有签名的app

### 第四道： Linus内核层安全机制
* Uid、访问权限控制
* 安卓本身是基于Linus开发的，所以继承了其安全特性。通常只有System，root才有权限访问到系统文件

### 第五道： 沙箱隔离
* APP运行在虚拟机中，应用之间相互隔离，不可访问
* 一个应用崩溃，其他应用也不会受影响
> 除非使用ContentProvider等传递数据

## 安全隐患
### 系统本身代码漏洞
### root风险
* root 掉之后，可以访问系统文件、限制各个应用app数据流量、自定义修改系统等
* root掉后就少了linus的安全机制
* 普通用户尽量不要root手机
### 安全机制不健全
权限机制并不完美（Q又增加了很多）
### 用户安全意识
下一些莫名其妙的app，或者随意root手机等
### Android开发原则与安全
* 开放系统，过度的开放与可定制化

## 反编译
APK文件解压缩，利用一些特殊工具...
* apktool
* dex2jar
* jd-gui
